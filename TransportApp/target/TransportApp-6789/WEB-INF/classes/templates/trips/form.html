<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title th:text="${trip.id == null} ? 'Thêm Chuyến' : 'Cập nhật Chuyến'"></title>
    <th:block th:replace="base :: bootstrap"></th:block>
</head>
<body>
    <header th:replace="base :: header"></header>

    <main class="container mt-4" style="max-width:500px">
        <h4 th:text="${trip.id == null} ? 'Thêm Chuyến' : 'Chỉnh Sửa Chuyến'"></h4>

        <form th:object="${trip}"
              th:action="@{'/schedules/' + ${trip.scheduleId} + '/trips'}"
              method="post"
              class="border p-3 rounded shadow-sm bg-light">

            <!-- Trường ẩn -->
            <input type="hidden" th:field="*{id}" />
            <input type="hidden" th:field="*{scheduleId}" />

            <!-- Thời gian đi -->
            <div class="mb-3">
                <label class="form-label">Thời gian đi</label>
                <input type="datetime-local" class="form-control"
                       th:field="*{departTime}" required />
                <div class="text-danger" th:if="${#fields.hasErrors('departTime')}" th:errors="*{departTime}"></div>
            </div>

            <!-- Thời gian đến -->
            <div class="mb-3">
                <label class="form-label">Thời gian đến</label>
                <input type="datetime-local" class="form-control"
                       th:field="*{arriveTime}" required />
                <div class="text-danger" th:if="${#fields.hasErrors('arriveTime')}" th:errors="*{arriveTime}"></div>
            </div>

            <!-- Buttons -->
            <button class="btn btn-success">Lưu</button>
            <a th:href="@{'/schedules/' + ${trip.scheduleId} + '/trips'}"
               class="btn btn-secondary ms-2">Hủy</a>
        </form>

    </main>
</body>
</html>

